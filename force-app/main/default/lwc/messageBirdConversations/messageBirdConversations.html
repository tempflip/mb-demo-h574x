<template>

    <div class="slds-box slds-theme_default">

        <template if:false={conversationSelected}>
            <div class="title">
                Current Conversations
            </div>

            <template for:each={conversationList} for:item="conversation">
                <div key={conversation.id}>
                    <lightning-button value={conversation.id} onclick={onConversationSelectClick} label="Select"></lightning-button>
                    
                    <span class="left-margin">Chat with {conversation.contact.displayName}</span>
                </div>
            </template>
            <hr>

            <div>
                <div class="title">
                    Start New Conversation
                </div>

                <lightning-input label="Phone" class="phone" value="+367x05853276"></lightning-input>
                <lightning-input label="First message" class="message"></lightning-input>
                <lightning-input label="Channel" class="channel" value="c6250085c8974b4ea2180b021ba945a2"></lightning-input>
                // looks like there is no endpoint for channels, so probably it should be a background setting
                <br/>
                <lightning-button label="Start" onclick={onStartClick}></lightning-button>
            </div>

            <hr>
            
        </template>

        <template if:true={conversationSelected}>
            <div>
                <lightning-button label="Back" onclick={onBackClick}></lightning-button>
                <lightning-button label="Archive Conversation" onclick={onArchiveClick}></lightning-button>
            </div>
            <c-message-bird-conversation-messages 
                conversation-id={conversationId}
                channel-id={channelId}
                contact-id={contactId}
            ></c-message-bird-conversation-messages>
        </template>

    </div>

</template>